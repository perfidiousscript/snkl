/*! snkl 2015-11-30 */
snklApp.controller("AboutController",["$scope",function(a){console.log("This works"),a.thing={text:"About Controller works!"}}]),snklApp.controller("AddController",["$scope",function(a){console.log("This works"),a.thing={text:"Add Controller works!"}}]),snklApp.controller("ContactController",["$scope",function(a){console.log("This works"),a.thing={text:"Contact Controller works!"}}]),snklApp.controller("MainController",["$scope","$http",function(a,b){a.connectionTypeScale=d3.scale.ordinal().domain(1,2,3).range("red","green","blue"),a.dataArray=[],b({method:"GET",url:"data/populate"}).success(function(b){a.populateGraph(b)}),a.populateGraph=function(a){var c=d3.select(".showData").append("svg"),d=d3.scale.linear().domain([1915,2015]).range([0,900]),e=d3.scale.linear().domain([0,100]).range([0,900]),f=d3.scale.linear().domain([0,100]).range([0,500]);c.attr("width",900),c.attr("height",500);var g,h=c.selectAll("g").data(a).enter().append("g");h.append("rect").attr("class","author").attr("id",function(a){return"'"+a.id+"'"}).attr("width",function(a){return e(a.last_work-a.first_work)}).attr("height",20).attr("x",function(a){return d((a.last_work-a.first_work)/2+a.first_work)}).attr("y",function(a){return f(a.style)}),h.append("text").attr("x",function(a){return d((a.last_work-a.first_work)/2+a.first_work)}).attr("y",function(a){return f(a.style+3)}).style("fill","white").text(function(a){return a.author_name}),h.on("click",function(c,d){null!=g&&d3.select(g).select("rect").attr("class","null"),g=this,d3.select(g).select("rect").attr("class","selected"),b({method:"POST",url:"data/connections",data:c}).success(i(a))});var i=function(a){console.log("X-coord",d3.select("rect").filter(function(a,b){return 1==a.id}).attr("x"))}}}]);